@model IEnumerable<PROYECTO_SER_WEB.Models.Productos>
@{
    ViewData["Title"] = "IndexProductos";
}

<div class="container mt-5" style="background-color: #1a2a3a; color: white; border-radius: 10px; padding: 20px;">
    <h1 class="text-center mb-4">Lista de Productos</h1>

    <!-- Botón para ver el carrito -->
    <p class="text-right">
        <a asp-action="VerCarrito" class="btn btn-success">Ver Carrito</a>
    </p>

    <!-- Contenedor de galería -->
    <div class="row">
        @foreach (var item in Model)
        {
            <div class="col-md-4 mb-4">
                <!-- Tarjeta de producto -->
                <div class="card h-100 shadow" style="background-color: #2c3e50; color: white;">
                    <img src="@Url.Content("/IMAGENES/" + item.cod_prod + ".jpg")"
                         class="card-img-top"
                         alt="@item.nom_prod"
                         style="height: 200px; object-fit: cover;">
                    <div class="card-body">
                        <h5 class="card-title">@item.nom_prod</h5>
                        <p class="card-text">
                            <strong>Precio:</strong> S/. @item.pre_prod<br>
                            <strong>Stock:</strong> @item.stk_prod
                        </p>
                    </div>
                    <div class="card-footer text-center" style="background-color: #34495e;">
                        @if (item.stk_prod > 0)
                        {
                            <a asp-action="AgregarAlCarrito"
                               asp-route-id="@item.cod_prod"
                               class="btn btn-primary btn-sm">Agregar al Carrito</a>
                        }
                        else
                        {
                            <span class="badge badge-warning">Sin stock</span>
                        }
                    </div>
                </div>
            </div>
        }
    </div>
</div>
